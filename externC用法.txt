extern C用法

为了能够正确实现C++代码调用其他C语言代码, 它会指示编译器这部分代码按C语言进行编译和链接,cpp支持重载而c不支持,编译函数时会加入函数的参数信息,编译c语言时不会带入参数信息
用g++编译cpp程序时,编译器会定义宏__cplusplus,可以根据是否定义了这个宏决定是否需要extern “C”
场景
1.写一个c模块供以后使用,源文件事先编译好
#ifdef __cplusplus
extern “C”{
#endif
//some code
#ifdef __cplusplus
}
#endif

2.模块已经存在,在cpp代码中
extern “C”{
#include “module_written_in_c.h”
int funcInC(int);
}